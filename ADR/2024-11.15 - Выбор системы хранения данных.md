**Дата:** 15 ноября 2024 г.

**Статус:** Предложено

**Контекст:**

Нам нужна надежная и масштабируемая база данных для нашего проекта стриминга музыки. Выбор базы данных может влиять на производительность, масштабируемость и безопасность нашего решения.

**Рассмотренные варианты:**

1. **PostgreSQL:** Объектно-реляционная система управления базами данных.
2. **MySQL:** Популярная реляционная система управления базами данных.
3. **MongoDB:** Документоориентированная система управления базами данных.
4. **Cassandra:** Распределенная система управления базами данных.
5. **YDB:** Распределённая отказоустойчивая реляционная система управления базами данных компании Яндекс с открытым исходным кодом.

**Решение:**

Выбран PostgreSQL 17.0.

**Обоснование:**

- **Открытый исходный код:** PostgreSQL может скачать бесплатно любой специалист, установить и сразу начать работу с базами данных.
- **Кроссплатформенность:** PostgreSQL подходит для работы в любой операционной системе: Linux, macOS, Windows. Пользователь получает систему «из коробки» — чтобы установить и использовать программу, не нужны дополнительные инструменты.
- **Надежность:** PostgreSQL известен своей стабильностью и надежностью, даже при работе с большими объемами данных.
- **Работа с большими размерами данных:** Размер базы данных в PostgreSQL не ограничен и зависит от того, сколько свободной памяти есть в месте хранения: на сервере, локальном компьютере или в облаке. Максимальный размер таблицы — 32 терабайта.
- **Расширяемость:** PostgreSQL поддерживает расширения, что позволяет добавлять новые возможности по мере необходимости.
- **Поддержка ACID:** PostgreSQL соответствует всем четырём требованиям ACID (атомарность, согласованность, изолированность, устойчивость) и обеспечивает сохранность данных при выполнении транзакций и других работ.
- **Оптимизация запросов:** Отличный планировщик запросов, который оптимизирует сложные запросы.
- **Масштабируемость:** PostgreSQL поддерживает горизонтальное и вертикальное масштабирование.
- **Сохранение данных:** PostgreSQL поддерживает логическую репликацию. То есть любые изменения синхронизируются во всех копиях базы данных вне зависимости от места их хранения.
- **JSON поддержка:** Встроенная поддержка JSON позволяет работать с неструктурированными данными.
- **Сообщество:** Большое и активное сообщество, множество доступных материалов и ресурсов для обучения.

**Последствия:**

- **Сложность настройки и администрирования:** Необходимо убедиться в компетентности команды в работе с PostgreSQL или предоставить соответствующее обучение, так как PostgreSQL имеет большое количество разнообразных конфигураций, разобраться в которых будет сложно пользователям с небольшим опытом, необходимо понимание архитектуры и учет достаточно большого количества параметров.
- **Повышенное потребление ресурсов:** В сравнении с некоторыми другими СУБД, PostgreSQL может потреблять больше ресурсов (включая оперативную память и процессорное время). Это особенно заметно при работе с большими объёмами данных и выполнении сложных запросов.
